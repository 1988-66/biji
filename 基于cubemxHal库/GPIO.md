GPIO 有八种工作模式，分别是： 

输入模式有：

输入浮空
输入上拉
输入下拉
模拟功能
输出功能有：

开漏输出
推挽输出
开漏式复用功能
推挽式复用功能
下面我们主要介绍各种GPIO工作模式的作用和主要运用场景。虽然在CubeMX中使用串口、PWM、I2C等等配置GPIO时候都不需要手动选择GPIO模式，CubeMX就会为你配置好对应的GPIO工作模式。不过还是需要我们了解的！

1.输入浮空模式
输入浮空模式：数据通道中仅接入TTL触发器（作用是将相对缓慢变化的模拟信号变成矩形信号）整形，随后输出到输入数据寄存器，该种工作模式未接入任何上拉/下拉电阻， IO 口的电平完全是由外部电路决定。 模式特点：在该引脚悬空（无信号输入）的情况下，读取该端口的电平是不确定的。

适用场合：外部按键输入检测/USART RX引脚

2.上拉输入模式
上拉输入模式：与浮空输入模式相比，仅仅是在数据通道前端接入了一个上拉电阻。 特点是：在无信号输入时端口电位受上拉电阻钳制，I/O端口输入电平始终保持为高电平；而当端口输入电平为低电平时，I/O端口输入电平为低电平。

适用场合：配置中断输入（引脚触发中断条件为下降沿触发/低电平触发时），不可以做电流型驱动

3.下拉输入模式
下拉输入模式：与浮空输入模式相比，仅仅是在数据通道前端接入了一个下拉电阻。 模式特点：在无信号输入时端口电位受下拉电阻钳制，I/O端口输入电平始终保持为低电平；而当端口输入电平为高电平时，I/O端口输入电平为高电平。

适用场合：配置中断输入（引脚触发中断条件为上升沿触发/高电平触发时），不可以做电流型驱动

4.模拟输入模式
模拟输入模式：数据通道不接入任何处理单元（TTL触发器/钳制电阻），直接输入MCU内部的处理单元。 模式特点：相较于其他输入模式只能读取到逻辑高/低电平（数字量），该模式能读取到细微变化的值（模拟量）。

适用场合：该模式下需要用到芯片内部的模拟电路单元， 用于 ADC、 DAC、 MCO这类操作模拟信号的外设。ADC模拟输入/低功耗下省电。

5.推挽输出
推挽输出：输出具有驱动能力，当CPU输出逻辑’0’时，I/O端口输出低电平，而当CPU输出逻辑’1’时，I/O端口输出高电平。推挽输出模式下输出高电平，有较强的的驱动能力，驱动电流最大可达25mA。

应用场景：驱动LED、数码管等电子元器件、输出控制某个信号。另外在推挽输出模式下，我们可以读取该 IO 口的电平状态。

6.开漏输出
开漏输出：适合做电流型的驱动，其吸收电流能力较强。当CPU输出逻辑’0’时，I/O端口输出低电平，而当CPU输出逻辑’1’时，该引脚处于开漏，也就是浮空状态（高阻态），如果想输出高电平则必须接入上拉电阻。同时IO口可以由外部电路改变为低电平或不变，即可读IO输入电平变化，实现了I/O端口的双向功能；

应用场景：I2C（I2C_SDA），SMBus，等总线判断总线占用状态。

7.复用推挽输出

复用推挽输出：在STM32中，一个引脚通常可作为普通GPIO来使用，但通常有多个复用模块对应着同一个引脚，那么当这个GPIO作为内置外设引脚时，就叫做复用模式。

适用场合：常见片内外设（USART TX引脚/SPI/PWM输出等等）

8.复用开漏输出

复用开漏输出：与开漏输出特性一致，只不过引脚选择了复用功能。

（“复用” 就是指：**放弃该引脚的普通 GPIO 功能，转而让内置外设使用这个引脚**,GPIO_InitStruct.Mode 就是复用后就只能用复用推挽输出，而不用推挽输出）
### 1.3、CubeMX怎么配置GPIO

![9a2fdeea89004d898c912e0e5cb25621.png](https://i-blog.csdnimg.cn/direct/9a2fdeea89004d898c912e0e5cb25621.png)
MX_GPIO_Init();//GPIO 初始化
/* GPIO初始化 */
void HAL_GPIO_Init(GPIO_TypeDef *GPIOx, GPIO_InitTypeDef *GPIO_Init);
 
/* 在函数初始化之后的引脚恢复成默认的转态 */
void HAL_GPIO_DeInit(GPIO_TypeDef *GPIOx, uint32_t GPIO_Pin);
 
/* 读取引脚的电平转态 */
GPIO_PinState HAL_GPIO_ReadPin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);
/* 引脚写1或0 */
void HAL_GPIO_WritePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin, GPIO_PinState PinState);
/* 翻转引脚电平 */
void HAL_GPIO_TogglePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);
/* 锁住GPIO的配置、读取、写入状态等操作 */
HAL_StatusTypeDef HAL_GPIO_LockPin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);
/* 外部中断回调函数，清除中断标志位 */
void HAL_GPIO_EXTI_IRQHandler(uint16_t GPIO_Pin);
/* 中断回调函数，中断函数响应动作 */
void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin);