1.
![[Pasted image 20260131175820.png]]2.
![[Pasted image 20260131180134.png]]
3.
![[Pasted image 20260131183303.png]]
![[Pasted image 20260131183349.png]]
![[Pasted image 20260131183410.png]]
4.
HAL_UART_Receive () 是 STM32 HAL 库的阻塞式串口接收函数，需指定 UART 外设、接收缓冲区、期望接收字节数和超时时间
![[Pasted image 20260131200833.png]]
![[Pasted image 20260131201032.png]]

![[Pasted image 20260131202605.png]]
HAL_UART_Receive_IT () 是 STM32 HAL 库的 UART 中断式接收函数，其参数依次为指定接收所用的 UART 外设句柄指针、存储接收数据的缓冲区指针、期望接收的字节数。
第一次调用（主函数 / 初始化阶段）：启动 “首次中断接收”，第二次调用（回调函数 `HAL_UART_RxCpltCallback` 里）：开启 “下一轮中断接收”，如果不在回调里重新调用 `HAL_UART_Receive_IT`，单片机只能接收**一次**5 字节数据，后续电脑发的数据都不会触发中断（因为中断已经被关闭了）。

测试时发送五次‘1’才翻转电平

5.
![[Pasted image 20260131215511.png]]
（注意：当发送一个‘1’时，也能翻转电平，说明空闲中断可以像补齐条件一样，实现任务，当发送六个‘1’时，实现的效果为翻转两次电平，灯不亮。）

6开启DMA模式


![[Pasted image 20260131220717.png]]
![[Pasted image 20260131221218.png]]
![[Pasted image 20260131222345.png]]


7.
![[Pasted image 20260131222613.png]]
